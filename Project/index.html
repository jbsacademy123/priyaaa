<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Samir J. Shah — Leadership in Logistics & Trade</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<!-- Shared header/footer styles -->
<link rel="stylesheet" href="/assets/site.css" />

<style>
:root{
  --graphite:#0B1220; --ink:#1f2937; --accent1:#F97316; --accent2:#EA580C;
  --muted:#6b7280; --softbg1:#FFF7ED; --softbg2:#FFE7D3; --deep:#0f2d57;
}
*{box-sizing:border-box;scroll-behavior:smooth}
body{
  margin:0;
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--ink);
  background:linear-gradient(180deg,var(--softbg1) 0%, var(--softbg2) 100%);
  overflow-x:hidden;
}

/* ===== Your existing page styles (unchanged) ===== */

/* HERO */
.hero{background:linear-gradient(180deg,var(--softbg1) 0%, var(--softbg2) 100%);padding:80px 20px 90px;}
.hero .wrap{max-width:1180px;margin:0 auto;display:grid;grid-template-columns:430px 1fr;gap:56px;align-items:center;}
.media{position:relative;border-radius:18px;overflow:hidden;background:#fff;border:1px solid #f1efe9;box-shadow:0 20px 40px rgba(0,0,0,.08);}
.media img{width:100%;display:block;border-radius:14px;position:relative;z-index:2;opacity:0;transform:translateX(-18px);animation:fadeInPhoto .9s ease-out .4s forwards;}
@keyframes fadeInPhoto{to{opacity:1;transform:translateX(0)}}
.kicker{color:var(--accent1);letter-spacing:.14em;text-transform:uppercase;font-weight:800;font-size:.95rem;margin:0 0 10px;}
.hero-title{font-family:'Playfair Display',serif;color:#1c2d57;font-size:clamp(2.5rem,1.2rem + 2.5vw,3.6rem);line-height:1.12;margin:0 0 22px;position:relative;display:inline-block;}
.hero-title::after{content:"";position:absolute;left:0;bottom:-8px;width:100%;height:3px;background:linear-gradient(90deg,var(--accent1),var(--accent2));border-radius:4px;animation:underlineMove 6s ease-in-out infinite;}
@keyframes underlineMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.lead{color:#334155;max-width:62ch;margin:0 0 26px;font-size:1.1rem;line-height:1.7}

/* CTA BUTTON */
.cta{
  display:inline-flex;align-items:center;gap:10px;background:linear-gradient(90deg,#F97316,#EA580C);
  color:#fff;text-decoration:none;font-weight:800;padding:16px 24px;border-radius:12px;border:none;
  box-shadow:0 6px 20px rgba(249,115,22,0.35);transform:translateY(18px);opacity:0;
  animation:btnIn .9s ease-out 1.6s forwards, float 3.8s ease-in-out 2.6s infinite;
  transition:transform .25s, box-shadow .25s, background .25s; z-index:2;
}
.cta:hover{background:linear-gradient(90deg,#EA580C,#F97316);transform:translateY(-3px) scale(1.03);box-shadow:0 14px 36px rgba(249,115,22,0.55);}
@keyframes btnIn { from { opacity: 0; transform: translateY(18px); } to { opacity: 1; transform: translateY(0); } }
@keyframes float { 0%{transform:translateY(0)} 50%{transform:translateY(-4px)} 100%{transform:translateY(0)} }

/* GRID (cards) */
.grid-section{background:transparent;padding:90px 20px}
.grid-wrap{max-width:1180px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:28px;}
.card{background:rgba(255,255,255,0.9);border:1px solid #f1efe9;border-top:4px solid var(--accent1);color:#0f172a;border-radius:16px;padding:28px;box-shadow:0 12px 30px rgba(0,0,0,.07);opacity:0;transform:translateY(48px);transition:transform .6s ease-out, opacity .6s ease, box-shadow .3s ease, border-color .3s ease;}
.card.visible{opacity:1;transform:translateY(0);animation:popGlow .5s ease forwards;}
.card:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(234,88,12,.22);border-top-color:var(--accent2);}
.card i{font-size:28px;color:var(--accent1);margin-bottom:12px;transition:.3s;}
.card:hover i{transform:scale(1.1) rotate(4deg);color:var(--accent2);}
.card h3{margin:0 0 8px;color:#0f172a;font-size:1.18rem;letter-spacing:.3px;}
.card p{margin:0;color:#475569;font-size:.96rem;line-height:1.6}
.card.highlight{outline:3px solid var(--accent1);box-shadow:0 0 0 6px rgba(249,115,22,.15), 0 18px 40px rgba(0,0,0,.18);transform:scale(1.02);transition:outline .2s, box-shadow .2s, transform .2s;}

/* TRAINING (strip + runner) */
.section-title{font-family:'Playfair Display',serif;font-size:clamp(1.8rem,1.2rem + 2vw,3rem);text-align:center; margin:28px auto 22px; color:#111827;}
.section-title::after{content:""; display:block; width:120px; height:4px; margin:14px auto 0;background:linear-gradient(90deg,var(--accent1),var(--accent2)); border-radius:6px}
.training{background:#fff;padding:40px 0 80px}
.strip{overflow:hidden;background:#fff;border-top:1px solid #eee;border-bottom:1px solid #eee}
.strip-track{--loopWidth:1500px; display:flex; gap:12px; align-items:center; padding:10px 12px; animation:strip-scroll 40s linear infinite;}
.strip img{height:220px; width:auto; border-radius:8px; object-fit:cover; box-shadow:0 6px 18px rgba(0,0,0,.08); border:1px solid #f1efe9}
.strip:hover .strip-track{animation-play-state:paused}
@keyframes strip-scroll{from{transform:translateX(0)} to{transform:translateX(calc(var(--loopWidth) * -1))}}

.run-slider{--gap:14px; --height:360px; --speed: 45s; position:relative; max-width:1180px; margin:18px auto 0; padding:0 44px;}
.run-slider .track{display:flex; align-items:center; gap:var(--gap); overflow:hidden; position:relative; isolation:isolate;}
.run-slider img{height:var(--height); width:auto; flex:0 0 auto; object-fit:cover; border-radius:14px; background:#fff; border:1px solid #f1efe9; box-shadow:0 10px 26px rgba(0,0,0,.06); user-select:none; -webkit-user-drag:none;}
@media (max-width:900px){ .run-slider{--height:280px} }
@media (max-width:600px){ .run-slider{--height:220px; padding:0 36px} }
.run-slider .scroll{display:flex; gap:var(--gap); will-change:transform; animation:runner var(--speed) linear infinite;}
.run-slider:hover .scroll{ animation-play-state:paused; }
@keyframes runner{ from{transform:translateX(0)} to{transform:translateX(calc(var(--loopW, 2000px) * -1))} }
.run-slider .nav{position:absolute; top:50%; transform:translateY(-50%); width:38px; height:38px; border-radius:50%; border:0; background:#ffffffcc; backdrop-filter:blur(4px); box-shadow:0 6px 16px rgba(0,0,0,.12); display:grid; place-items:center; cursor:pointer; font-size:20px; line-height:1; transition:.2s;}
.run-slider .nav:hover{ transform:translateY(-50%) scale(1.06); }
.run-slider .prev{ left:6px } .run-slider .next{ right:6px }

/* ===== Videos (grid + drawer) ===== */
.videos-section{background:var(--deep);padding:80px 0}
.videos-section .title{font-family:'Playfair Display',serif;text-align:center;font-size:clamp(1.8rem,1.2rem + 2vw,3rem);color:#fff;margin:0 0 10px}
.videos-section .subtitle{color:#e6edf7;text-align:center;max-width:900px;margin:0 auto 24px}
.video-grid{max-width:1180px; margin:0 auto; padding:0 20px; display:grid; grid-template-columns:repeat(3,1fr); gap:16px;}
@media (max-width:900px){ .video-grid{grid-template-columns:repeat(2,1fr)} }
@media (max-width:600px){ .video-grid{grid-template-columns:1fr} }
.video-card{background:#fff;border-radius:16px;overflow:hidden;border:1px solid #eef0f3; box-shadow:0 10px 24px rgba(0,0,0,.12);display:flex; flex-direction:column;transition:transform .2s ease, box-shadow .2s ease;}
.video-card:hover{ transform:translateY(-4px); box-shadow:0 16px 30px rgba(0,0,0,.16); }
.video-card .vthumb{ position:relative; overflow:hidden; }
.video-card .vthumb img{ width:100%; height:200px; object-fit:cover; display:block; transition:transform .35s ease; }
.video-card:hover .vthumb img{ transform:scale(1.06); }
.video-card h3{ font-size:1.05rem; margin:12px 14px 6px; color:#0b1220; }
.video-card .vmeta{ color:#64748b; font-size:.92rem; margin:0 14px 16px; }
.center{display:flex;justify-content:center;margin-top:18px}
.btn-primary{background:linear-gradient(90deg,#F97316,#EA580C); color:#fff; border:none;font-weight:800; padding:12px 18px; border-radius:10px; cursor:pointer;box-shadow:0 6px 20px rgba(249,115,22,0.35); transition:transform .2s ease, box-shadow .2s ease;}
.btn-primary:hover{ transform:translateY(-2px); box-shadow:0 12px 28px rgba(249,115,22,0.5); }
.btn-ghost{ background:#ffffff; color:#0f172a; border:1px solid #e5e7eb; font-weight:700; padding:10px 14px; border-radius:10px; cursor:pointer; transition:background .2s, color .2s, border-color .2s; }
.btn-ghost:hover{ background:#0f172a; color:#fff; border-color:#0f172a; }

/* Bottom Drawer */
.drawer{ position:fixed; inset:0; pointer-events:none; z-index:50; }
.drawer .overlay{ position:absolute; inset:0; background:rgba(0,0,0,.4); opacity:0; transition:opacity .25s ease; }
.drawer .panel{ position:absolute; left:0; right:0; bottom:-80vh; height:80vh;background:#fff; border-top-left-radius:18px; border-top-right-radius:18px;box-shadow:0 -12px 26px rgba(0,0,0,.25); transition:bottom .35s ease; display:flex; flex-direction:column;}
.drawer.open{ pointer-events:auto; }
.drawer.open .overlay{ opacity:1; }
.drawer.open .panel{ bottom:0; }
.drawer-header{ display:flex; align-items:center; justify-content:space-between; padding:14px 18px; border-bottom:1px solid #eef0f3;}
.drawer-header h3{ margin:0; font-size:1.1rem; color:#0b1220; }
.drawer-body{ padding:16px 18px 24px; overflow:auto; }
.drawer-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; }
@media (max-width:900px){ .drawer-grid{ grid-template-columns:repeat(2,1fr) } }
@media (max-width:600px){ .drawer-grid{ grid-template-columns:1fr } }

/* LinkedIn marquee */
.linked-title{font-family:'Playfair Display',serif;text-align:center;font-size:clamp(1.8rem,1.2rem + 2vw,3rem);color:#0f2d57;margin:0 0 10px}
.linked-sub{color:#4b5563;text-align:center;max-width:900px;margin:0 auto 24px}
.marquee{ position:relative; overflow:hidden; max-width:1180px; margin:0 auto; padding:0 20px; }
.belt{ display:block; position:relative; }
.row{ --speed:55s; --roww:2000px; display:flex; gap:14px; padding:12px 0; will-change:transform; animation:li-scroll var(--speed) linear infinite; }
.marquee:hover .row{ animation-play-state:paused; }
@keyframes li-scroll{ from { transform: translateX(0); } to { transform: translateX(calc(var(--roww) * -1)); } }
.vcard{ min-width:320px; max-width:360px; background:#fff; border-radius:16px; overflow:hidden;border:1px solid #eef0f3; box-shadow:0 10px 24px rgba(0,0,0,.12); display:flex; flex-direction:column; text-decoration:none; transition:transform .2s ease, box-shadow .2s ease; }
.vcard:hover{ transform:translateY(-4px); box-shadow:0 16px 30px rgba(0,0,0,.16); }
.vthumb{ position:relative; overflow:hidden; }
.vthumb img{ width:100%; height:220px; object-fit:cover; display:block; transition:transform .35s ease; }
.vcard:hover .vthumb img{ transform:scale(1.06); }
.vcard h3{ font-size:1.02rem; margin:12px 14px 6px; color:#0b1220; }
.vcard .vmeta{ color:#64748b; font-size:.92rem; margin:0 14px 16px; display:flex; align-items:center; gap:8px }
.li-card .li-badge{position:absolute;left:10px;top:10px;background:#0a66c2;color:#fff;font-size:.75rem;padding:6px 8px;border-radius:999px;font-weight:700;box-shadow:0 4px 12px rgba(10,102,194,.35)}
@media (max-width:600px){ .vcard{min-width:280px;max-width:280px} .vthumb img{height:170px} }
.marquee::before,.marquee::after{ display:none !important; }
.belt{ -webkit-mask-image:none !important; mask-image:none !important; }

/* Generic */
a{text-decoration:none !important} a:hover{text-decoration:none !important}

/* Mobile page adjustments (≤860px) */
@media (max-width: 860px){
  .hero{ padding:48px 16px 56px }
  .hero .wrap{ grid-template-columns:1fr; gap:22px }
  .media{ max-width:520px; margin:0 auto; border-radius:14px }
  .media img{ border-radius:12px }
  .kicker{ font-size:.85rem; margin:0 0 6px }
  .hero-title{ font-size:clamp(1.8rem, 6vw, 2.4rem); margin-bottom:12px }
  .lead{ font-size:.98rem; margin-bottom:16px }
  .cta{ padding:12px 16px; font-size:.95rem; border-radius:10px }

  .grid-section{ padding:44px 16px }
  .grid-wrap{ grid-template-columns:1fr; gap:14px }
  .card{ padding:18px; border-radius:14px }
  .card i{ font-size:22px; margin-bottom:8px }
  .card h3{ font-size:1.02rem }
  .card p{ font-size:.94rem }

  .training{ padding:24px 0 40px }
  .section-title{ font-size:clamp(1.4rem, 5.5vw, 1.8rem); margin:14px auto }
  .strip-track{ gap:8px; padding:8px 10px }
  .strip img{ height:160px }
  .run-slider{ --height:220px; padding:0 36px }
  .run-slider .nav{ width:34px; height:34px; font-size:16px }

  .videos-section{ padding:44px 0 }
  .videos-section .title{ font-size:clamp(1.4rem, 6vw, 1.8rem) }
  .videos-section .subtitle{ padding:0 16px; font-size:.95rem }
  .video-grid{ grid-template-columns:1fr; gap:12px; padding:0 16px }
  .video-card h3{ font-size:1rem; margin:10px 12px 4px }
  .video-card .vthumb img{ height:180px }

  .drawer-grid{ grid-template-columns:1fr; gap:12px }
  .drawer .panel{ height:82vh }

  .marquee{ padding:0 16px }
  .vcard{ min-width:76vw; max-width:76vw }
  .vthumb img{ height:170px }

  /* footer shared is already responsive */
}
</style>
</head>
<body>

<!-- Shared header slot -->
<div id="header"></div>

<!-- HERO -->
<section class="hero">
  <div class="wrap">
    <div class="media"><img src="Samir J. Shah photo.jpg" alt="Samir J. Shah"></div>
    <div>
      <h2 class="kicker"><span id="typewriter"></span></h2>
      <h1 class="hero-title">Where <span class="word logistics">Logistics</span> Meets <span class="word leadership">Leadership</span>.</h1>
      <p class="lead">Empowering India’s logistics & EXIM ecosystem through decades of expertise — shaping professionals, policies, and performance in international trade.</p>
      <a class="cta" href="mailto:priyanka@jbsacademy.com?subject=Inquiry%20for%20Samir%20J.%20Shah&body=Hello%20Team%2C%0A%0AI%20would%20like%20to%20connect%20with%20Mr.%20Samir%20J.%20Shah%20regarding...%0A%0ARegards%2C%0A">
        <i class="fa-solid fa-comments"></i> CONNECT WITH SAMIR J. SHAH <i class="fa-solid fa-arrow-right"></i>
      </a>
    </div>
  </div>
</section>

<!-- TRAINING SECTION -->
<section id="police-training" class="training">
  <div class="strip" data-autoscroll>
    <div class="strip-track">
      <img src="images/p1.jpg" alt=""><img src="images/p2.jpg" alt=""><img src="images/p3.jpg" alt="">
      <img src="images/p4.jpg" alt=""><img src="images/p5.jpg" alt=""><img src="images/p6.jpg" alt="">
      <img src="images/p1.jpg" alt="" aria-hidden="true"><img src="images/p2.jpg" alt="" aria-hidden="true"><img src="images/p3.jpg" alt="" aria-hidden="true">
      <img src="images/p4.jpg" alt="" aria-hidden="true"><img src="images/p5.jpg" alt="" aria-hidden="true"><img src="images/p6.jpg" alt="" aria-hidden="true">
    </div>
  </div>

  <h3 class="section-title">Awards</h3>

  <div class="run-slider" id="runSlider">
    <button class="nav prev" aria-label="Previous">&#10094;</button>
    <div class="track">
      <img src="images/g1.jpg" alt=""><img src="images/g2.jpg" alt=""><img src="images/g3.jpg" alt="">
      <img src="images/g4.jpg" alt=""><img src="images/g5.jpg" alt=""><img src="images/g6.jpg" alt="">
      <img src="images/g7.jpg" alt=""><img src="images/g8.jpg" alt=""><img src="images/g9.jpg" alt="">
    </div>
    <button class="nav next" aria-label="Next">&#10095;</button>
  </div>
</section>

<!-- CARDS GRID -->
<section class="grid-section" id="sections">
  <div class="grid-wrap">
    <a class="card" href="education.html"><i class="fa-solid fa-graduation-cap"></i><h3>Education & Professional Qualification</h3><p>Academic and professional milestones shaping his journey.</p></a>
    <a class="card" href="positions.html"><i class="fa-solid fa-user-tie"></i><h3>Positions held + Community work</h3><p>Leadership positions and voluntary contributions in logistics & trade.</p></a>
    <a class="card" href="social-causes.html"><i class="fa-solid fa-hands-helping"></i><h3>Social causes</h3><p>Efforts dedicated to education, empowerment, and community service.</p></a>

    <a id="books-card" class="card" href="books.html"><i class="fa-solid fa-book"></i><h3>Books / JBSAPL</h3><p>Publications authored and initiatives by JBS Academy Pvt. Ltd.</p></a>

    <a class="card" href="curriculums.html"><i class="fa-solid fa-layer-group"></i><h3>Curriculums developed</h3><p>Specialized academic and industry-aligned programs designed and implemented.</p></a>
    <a class="card" href="teachings.html"><i class="fa-solid fa-chalkboard-user"></i><h3>Teachings</h3><p>Knowledge sharing through lectures, mentorship, and training programs.</p></a>
    <a class="card" href="conferences.html"><i class="fa-solid fa-microphone"></i><h3>Conventions, Conferences, Congresses</h3><p>Participation and presentations at national and international forums.</p></a>
    <a id="blogs-card" class="card" href="blogs.html"><i class="fa-solid fa-pen-nib"></i><h3>Blog / Articles</h3><p>Published insights and opinions on logistics, policy, and trade trends.</p></a>

    <a id="news-card" class="card" href="news.html"><i class="fa-solid fa-newspaper"></i><h3>In the news</h3><p>Media features, interviews, and news highlights of professional contributions.</p></a>
  </div>
</section>

<!-- VIDEOS -->
<section class="videos-section">
  <div class="wrap" style="max-width:1180px;margin:0 auto;">
    <h2 class="title">Videos</h2>
    <p class="subtitle">I share my guidance on logistics, customs, and international trade — transforming experience into strategic insight.</p>

    <div class="video-grid" id="videosGrid"></div>

    <div class="center" style="gap:10px;">
      <button class="btn-primary" id="viewMoreBtn"><i class="fa-solid fa-clapperboard"></i>&nbsp; View more</button>
      <a class="btn-ghost" href="https://www.youtube.com/@JBSAcademy" target="_blank" rel="noopener">
        <i class="fa-brands fa-youtube"></i>&nbsp; Open channel
      </a>
    </div>
  </div>
</section>

<!-- Drawer -->
<div class="drawer" id="videosDrawer" aria-hidden="true">
  <div class="overlay" id="drawerOverlay"></div>
  <div class="panel" role="dialog" aria-modal="true" aria-labelledby="drawerTitle">
    <div class="drawer-header">
      <h3 id="drawerTitle">All Videos</h3>
      <button class="btn-ghost" id="drawerClose"><i class="fa-solid fa-xmark"></i>&nbsp; Close</button>
    </div>
    <div class="drawer-body">
      <div class="drawer-grid" id="drawerGrid"></div>
    </div>
  </div>
</div>

<!-- LinkedIn -->
<section class="training" style="background:#fff">
  <div class="wrap" style="max-width:1180px;margin:0 auto;">
    <h2 class="linked-title">LinkedIn</h2>
    <p class="linked-sub">Recent posts and appearances.</p>
    <div class="marquee" id="liMarquee">
      <div class="belt" id="liBelt"></div>
    </div>
  </div>
</section>

<!-- Shared footer slot -->
<div id="footer"></div>

<!-- Shared injector -->
<script src="/assets/shared.js" data-base=""></script>

<script>
/* === Your existing JS (unchanged) === */
// Typewriter
const texts = ["Industry Leader", "Author", "Educator", "Speaker"];
let count = 0, index = 0, currentText = "", letter = "";
(function type(){
  if (count === texts.length) count = 0;
  currentText = texts[count];
  letter = currentText.slice(0, ++index);
  const el = document.getElementById("typewriter");
  if (el) el.textContent = letter;
  if (letter.length === currentText.length) {
    setTimeout(() => { index = 0; count++; type(); }, 1200);
  } else setTimeout(type, 100);
})();

// Random reveal for cards
const cards = document.querySelectorAll('.grid-section .card');
function shuffle(a){let i=a.length,r;while(i){r=Math.floor(Math.random()*i--);[a[i],a[r]]=[a[r],a[i]];}return a;}
function randomRevealOnScroll(){
  const triggerPoint=window.innerHeight-150;
  const section=document.querySelector('.grid-section');
  if(!section) return;
  const rect=section.getBoundingClientRect();
  if(rect.top<triggerPoint&&rect.bottom>0){
    const randomCards=shuffle([...cards]);
    randomCards.forEach((card,i)=>{setTimeout(()=>card.classList.add('visible'),i*300);});
    window.removeEventListener('scroll',randomRevealOnScroll);
  }
}
window.addEventListener('scroll',randomRevealOnScroll);

// Smooth looping width for the top photo strip
(function(){
  const track = document.querySelector('.strip-track');
  if(!track) return;
  const update = () => {
    const half = Math.floor(track.children.length/2);
    const total = Array.from(track.children).slice(0, half)
      .reduce((w,img,i)=>w + img.getBoundingClientRect().width + (i?12:0), 0);
    track.style.setProperty('--loopWidth', total + 'px');
  };
  const ro = new ResizeObserver(update);
  ro.observe(track);
  window.addEventListener('load', update);
})();

/* Autoplay runner (photos) */
(function(){
  const wrap = document.getElementById('runSlider');
  if(!wrap) return;
  const track = wrap.querySelector('.track');
  const imgs = Array.from(track.children);
  const row1 = document.createElement('div');
  row1.className = 'scroll';
  imgs.forEach(el => row1.appendChild(el));
  const row2 = row1.cloneNode(true);
  track.appendChild(row1);
  track.appendChild(row2);
  function setLoopWidth(){
    const gap = parseFloat(getComputedStyle(track).gap)||0;
    const w = Array.from(row1.children).reduce((sum, el, i) => sum + el.getBoundingClientRect().width + (i?gap:0), 0);
    row1.style.setProperty('--loopW', w+'px'); row2.style.setProperty('--loopW', w+'px');
  }
  new ResizeObserver(setLoopWidth).observe(track);
  window.addEventListener('load', setLoopWidth);
  function placeRows(){
    const w = parseFloat(getComputedStyle(row1).getPropertyValue('--loopW')) || 0;
    row1.style.transform = 'translateX(0)';
    row2.style.transform = `translateX(${w}px)`;
  }
  window.addEventListener('load', placeRows); window.addEventListener('resize', placeRows);
  const step = () => Math.min(400, (wrap.clientWidth/2));
  wrap.querySelector('.prev').addEventListener('click', ()=> nudge(step()));
  wrap.querySelector('.next').addEventListener('click', ()=> nudge(-step()));
  function nudge(px){
    [row1,row2].forEach(r=>{
      r.style.animationPlayState = 'paused';
      const cur = new DOMMatrixReadOnly(getComputedStyle(r).transform).m41 || 0;
      const w = parseFloat(getComputedStyle(r).getPropertyValue('--loopW')) || 0;
      let now = cur+px; if(now <= -w) now += 2*w; if(now >=  w) now -= 2*w;
      r.style.transform = `translateX(${now}px)`; setTimeout(()=> r.style.animationPlayState = 'running', 50);
    });
  }
})();

/* Data */
const VIDEOS = [
  { id: "0e1uWIbHW_c", title: "Interview / Talk – Part 1" },
  { id: "ltNothzpslY", title: "Interview / Talk – Part 2" },
  { id: "a3MeV5i7oz0", title: "YouTube Shorts – Quick Clip", duration: "00:30" },
  { id: "eu0lugAMgqk", title: "Logistics & Trade — Talk 1" },
  { id: "TW-AKrOzmZ8", title: "Logistics Insight — YouTube Short" },
  { id: "19A1z7BcJUc", title: "Logistics & Trade — Talk 2" }
];

const LI = [
  { href:"https://www.linkedin.com/posts/samirjshah1_hanoi-customsclearance-freightforwarding-activity-7383577543578308608-W0tx?utm_source=share&utm_medium=member_desktop&rcm=ACoAADwVSesBXfA2fgzKXdbcoC0Bd3Znd13RKiI", img:"linkedin/ln1.png", title:"Hanoi • Customs clearance • Freight forwarding" },
  { href:"https://www.linkedin.com/posts/samirjshah1_hanoi-aircargo-airlogistics-activity-7382071641989861376-s6ID?utm_source=share&utm_medium=member_desktop&rcm=ACoAADwVSesBXfA2fgzKXdbcoC0Bd3Znd13RKiI", img:"linkedin/ln2.png", title:"Hanoi • Air cargo • Air logistics" },
  { href:"https://www.linkedin.com/posts/samirjshah1_corporatetraining-speaker-businessgrowth-activity-7381921297154342912-mmhC?utm_source=share&utm_medium=member_desktop&rcm=ACoAADwVSesBXfA2fgzKXdbcoC0Bd3Znd13RKiI", img:"linkedin/ln3.png", title:"Corporate training • Speaker • Business growth" },
  { href:"https://www.linkedin.com/posts/acaaiofficial_fiata2025-acaai-customsaffairs-activity-7381647630055084032-gB-H?utm_source=share&utm_medium=member_desktop&rcm=ACoAADwVSesBXfA2fgzKXdbcoC0Bd3Znd13RKiI", img:"linkedin/ln4.png", title:"ACAAI • FIATA 2025 • Customs affairs" },
  { href:"https://www.linkedin.com/posts/samirjshah1_exim-internationalbusiness-export-activity-7381558110261268480-YdJO?utm_source=share&utm_medium=member_desktop&rcm=ACoAADwVSesBXfA2fgzKXdbcoC0Bd3Znd13RKiI", img:"linkedin/ln5.png", title:"EXIM • International business • Export" },
  { href:"https://www.linkedin.com/posts/samirjshah1_riskmanagementsystem-customsbroker-freightforwarding-activity-7381198383513915392-yzM1?utm_source=share&utm_medium=member_desktop&rcm=ACoAADwVSesBXfA2fgzKXdbcoC0Bd3Znd13RKiI", img:"linkedin/ln6.png", title:"RMS • Customs broker • Freight forwarding" }
];

/* LinkedIn marquee */
function renderLI(p){
  const a = document.createElement('a');
  a.href = p.href; a.target='_blank'; a.rel='noopener';
  a.className = 'vcard li-card';
  a.innerHTML = `
    <div class="vthumb">
      <span class="li-badge">in</span>
      <img loading="lazy" src="${p.img}" alt="${p.title}">
    </div>
    <h3>${p.title}</h3>
    <p class="vmeta"><i class="fa-brands fa-linkedin"></i> Open on LinkedIn</p>
  `;
  return a;
}
function initSingleLineMarquee(beltEl, items, render, speedSeconds = 55){
  if(!beltEl) return;
  const row = document.createElement('div'); row.className = 'row';
  const firstSet = items.map(render); firstSet.forEach(el => row.appendChild(el));
  const secondSet = items.map(render); secondSet.forEach(el => row.appendChild(el));
  beltEl.innerHTML = ''; beltEl.appendChild(row);
  function measureWidth(){
    const gap = parseFloat(getComputedStyle(row).gap) || 0;
    const n = firstSet.length;
    let width = 0;
    for(let i=0;i<n;i++){ width += row.children[i].getBoundingClientRect().width + (i ? gap : 0); }
    row.style.setProperty('--roww', width + 'px');
    row.style.setProperty('--speed', speedSeconds + 's');
    beltEl.style.height = row.getBoundingClientRect().height + 'px';
  }
  window.addEventListener('load', measureWidth);
  new ResizeObserver(measureWidth).observe(beltEl);
}
initSingleLineMarquee(document.getElementById('liBelt'), LI, renderLI, 55);

/* YouTube drawer */
function renderVideoCard(v){
  const a = document.createElement('a');
  a.href = `https://www.youtube.com/watch?v=${v.id}`;
  a.target = '_blank'; a.rel = 'noopener'; a.className = 'video-card';
  a.innerHTML = `
    <div class="vthumb">
      <img loading="lazy" src="https://img.youtube.com/vi/${v.id}/mqdefault.jpg" alt="${v.title}">
    </div>
    <h3>${v.title}</h3>
    <p class="vmeta">YouTube • Watch now${v.duration ? ' • ' + v.duration : ''}</p>
  `;
  return a;
}
(function(){
  const grid = document.getElementById('videosGrid');
  const viewMoreBtn = document.getElementById('viewMoreBtn');
  const drawer = document.getElementById('videosDrawer');
  const overlay = document.getElementById('drawerOverlay');
  const closeBtn = document.getElementById('drawerClose');
  const drawerGrid = document.getElementById('drawerGrid');

  function renderTop3(){ grid.innerHTML = ''; VIDEOS.slice(0,3).forEach(v => grid.appendChild(renderVideoCard(v))); }
  function renderAll(){ drawerGrid.innerHTML = ''; VIDEOS.forEach(v => drawerGrid.appendChild(renderVideoCard(v))); }
  function openDrawer(){ renderAll(); drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false'); }
  function closeDrawer(){ drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); }
  viewMoreBtn?.addEventListener('click', openDrawer);
  overlay?.addEventListener('click', closeDrawer);
  closeBtn?.addEventListener('click', closeDrawer);
  window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeDrawer(); });
  renderTop3();
})();

/* Nav → Card highlighting */
function setupNavHighlighter(navSelector, cardSelector){
  const nav = document.querySelector(navSelector);
  const card = document.querySelector(cardSelector);
  if(!nav || !card) return;
  nav.addEventListener('click', (e)=>{
    setTimeout(()=>{
      card.classList.add('visible');
      document.querySelectorAll('.grid-section .card.highlight')
        .forEach(c => c.classList.remove('highlight'));
      card.classList.add('highlight');
      card.scrollIntoView({behavior:'smooth', block:'center'});
      setTimeout(()=> card.classList.remove('highlight'), 3000);
    }, 50);
  });
}
setupNavHighlighter('a[href="index.html#books-card"]', '#books-card');
setupNavHighlighter('a[href="index.html#news-card"]',  '#news-card');
setupNavHighlighter('a[href="index.html#blogs-card"]', '#blogs-card');
window.addEventListener('load', ()=>{
  const h = location.hash;
  if(h === '#books-card') document.querySelector('a[href="index.html#books-card"]')?.click();
  if(h === '#news-card')  document.querySelector('a[href="index.html#news-card"]')?.click();
  if(h === '#blogs-card') document.querySelector('a[href="index.html#blogs-card"]')?.click();
});
</script>
</body>
</html>
